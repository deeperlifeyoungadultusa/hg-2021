(this.webpackJsonpdlya=this.webpackJsonpdlya||[]).push([[0],{10:function(e,t){e.exports={ADD_MESSAGE:"ADD_MESSAGE",GET_MESSAGES:"GET_MESSAGES",DELETE_MESSAGE:"DELETE_MESSAGE",LOGIN:"LOGIN",LOGIN_ERROR:"LOGIN_ERROR",VERIFY_LOGIN:"VERIFY_LOGIN"}},50:function(e,t,n){e.exports=n(81)},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),s=(n(55),n(56),n(12)),i=n.n(s),u=n(18),l=n(3),p=n(14),m=n(6),d=n(4),h=n(7),f=n(5),b=n(20),O=n(21),g=n.n(O);n(62),n(65);g.a.initializeApp({apiKey:"AIzaSyA9XNc30h-czoeu9UfnXZHGD4i8PCsfjfc",authDomain:"dlbc-ya-conference-app.firebaseapp.com",databaseURL:"https://dlbc-ya-conference-app.firebaseio.com",projectId:"dlbc-ya-conference-app",storageBucket:"dlbc-ya-conference-app.appspot.com",messagingSenderId:"341667552255",appId:"1:341667552255:web:16c8c22701a5c1cb50a5ca"});new g.a.auth.GoogleAuthProvider,g.a.auth();var E=g.a.database(),v=E.ref("Chat/Q&A"),y=g.a,j=n(10),w=function(){return function(e){y.auth().onAuthStateChanged((function(t){t?e({type:j.VERIFY_LOGIN,payload:t}):S()}))}},S=function(){return function(e){y.auth().signOut().then((function(){return e({type:j.SIGN_OUT,payload:""})}))}},N=(n(67),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){n.setState({text:e.target.value})},n.onClick=function(){if(""!==n.state.text.trim()){var e={admin:!0,text:n.state.text};n.setState({text:""}),n.props.addMessage(e)}},n.state={text:""},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatbar"},r.a.createElement("input",{type:"text",className:"text",value:this.state.text,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{type:"submit",className:"submit",value:"Enter",onClick:function(t){return e.onClick()}}))}}]),t}(a.Component)),C=Object(f.b)((function(e){return{}}),{addMessage:function(e){return function(t){return v.push(e)}}})(N),G=(n(68),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"modal"},n.props.children)},n}return Object(h.a)(t,e),t}(a.Component)),k=(n(69),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).delete=function(){var e=n.props,t=e.id;(0,e.deleteMessage)(t)},n.handleModal=function(e){n.setState({modalOpen:e})},n.showModal=function(){var e=n.state.modalOpen,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("div",{className:"modalContainer"},r.a.createElement("button",{onClick:n.delete},"Yes"),r.a.createElement("button",{onClick:function(e){n.handleModal(!1)}},"No")));return e?r.a.createElement(G,null,t):""},n.state={modalOpen:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message;return r.a.createElement("div",{className:"message"},this.showModal(),r.a.createElement("div",{className:"messageText",onClick:function(t){return e.handleModal(!0)}},t.text))}}]),t}(a.Component)),A=Object(f.b)((function(e){return{}}),{deleteMessage:function(e){return function(t){E.ref("Chat/Q&A").child(e).remove().then().catch((function(e){return console.log(e)}))}}})(k),I=n(45),L=(n(77),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getMessages();case 2:n.scrollToBottom();case 3:case"end":return e.stop()}}),e)}))),n.scrollToBottom=function(){I.animateScroll.scrollToBottom({containerId:"chat-messages"})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat-messages",id:"chat-messages"},this.props.messages.messages.map((function(e){return r.a.createElement(A,{key:e.id,id:e.id,message:e[e.id]})})))}}]),t}(a.Component)),x=Object(f.b)((function(e){return{messages:e.messages}}),{getMessages:function(){return function(e){v.on("value",(function(t){e({type:j.GET_MESSAGES,payload:function(){var e=t.val(),n=[];return e&&Object.keys(e).forEach((function(t,a){n.push(Object(b.a)({},t,e[t])),n[a].id=t})),n}})}))}}})(L),M=(n(78),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(e){n.props.signOut()},n.render=function(){return r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"chat"},"DLYA Admin Chat"),r.a.createElement("div",{className:"logout",onClick:function(e){return n.onClick(e)}},"Logout"))},n}return Object(h.a)(t,e),t}(a.Component)),R=Object(f.b)((function(e){return{auth:e.login}}),{signOut:S,verifyLogin:w})(M),_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.verifyLogin();case 2:n.props.auth.authenticated||n.props.history.push("/login");case 4:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(){n.props.auth.authenticated||n.props.history.push("/login")},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(R,{className:"header"}),r.a.createElement(x,null),r.a.createElement(C,null))}}]),t}(a.Component),D=Object(f.b)((function(e){return{auth:e.login}}),{verifyLogin:w})(_),T=n(16),B=n(46),F=n(47),U=n(22),Y={messages:[]},P={authenticated:!1,user:{},error:""},V=Object(T.combineReducers)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},Y),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.GET_MESSAGES:return Object(U.a)({},e,{messages:t.payload()});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},P),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOGIN:return Object(U.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.LOGIN_ERROR:return Object(U.a)({},e,{error:t.payload});case j.VERIFY_LOGIN:return Object(U.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.SIGN_OUT:return Object(U.a)({},e,{authenticated:!!t.payload,user:{}});default:return e}}}),W=[F.a],z=Object(T.createStore)(V,{},Object(B.composeWithDevTools)(T.applyMiddleware.apply(void 0,W))),J=n(48),Q=n(17),X=(n(79),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.verifyLogin();case 2:n.props.auth.authenticated&&n.props.history.push("/");case 4:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(){n.props.auth.authenticated&&n.props.history.push("/")},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({email:"",password:""}),e.next=4,n.props.login(n.state.email,n.state.password);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.error;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Login to access your account"),r.a.createElement("p",null,t.message),r.a.createElement("form",{className:"form",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"email",value:this.state.email,onChange:function(t){return e.onChange(t)}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{className:"submit",type:"submit",value:"Login"})))}}]),t}(a.Component)),H=Object(f.b)((function(e){return{auth:e.login}}),{login:function(e,t){return function(n){y.auth().signInWithEmailAndPassword(e,t).then((function(e){n({type:j.LOGIN,payload:e})})).catch((function(e){n({type:j.LOGIN_ERROR,payload:e})}))}},verifyLogin:w})(X);var K=function(){return r.a.createElement(f.a,{store:z},r.a.createElement(J.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(Q.a,{exact:!0,path:"/",component:D}),r.a.createElement(Q.a,{exact:!0,path:"/login",component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.3afbcf1b.chunk.js.map