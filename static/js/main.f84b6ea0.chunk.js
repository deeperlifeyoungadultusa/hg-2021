(this.webpackJsonpdlya=this.webpackJsonpdlya||[]).push([[0],{50:function(e,t,a){e.exports=a(81)},55:function(e,t,a){},56:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(55),a(56),a(12)),s=a.n(i),u=a(18),l=a(3),p=a(14),m=a(6),d=a(4),f=a(7),h=a(5),E=a(21),g=a(22),b=a.n(g);a(62),a(65);b.a.initializeApp({apiKey:"AIzaSyA9XNc30h-czoeu9UfnXZHGD4i8PCsfjfc",authDomain:"dlbc-ya-conference-app.firebaseapp.com",databaseURL:"https://dlbc-ya-conference-app.firebaseio.com",projectId:"dlbc-ya-conference-app",storageBucket:"dlbc-ya-conference-app.appspot.com",messagingSenderId:"341667552255",appId:"1:341667552255:web:16c8c22701a5c1cb50a5ca"});new b.a.auth.GoogleAuthProvider,b.a.auth();var v=b.a.database(),O=v.ref("Chat/Q&A"),y=b.a,j=a(9),S=function(){return function(e){y.auth().onAuthStateChanged((function(t){t?e({type:j.VERIFY_LOGIN,payload:t}):k()}))}},k=function(){return function(e){y.auth().signOut().then((function(){return e({type:j.SIGN_OUT,payload:""})}))}},w=(a(67),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){a.setState({text:e.target.value})},a.onClick=function(){if(""!==a.state.text.trim()){var e={admin:!0,text:a.state.text};a.setState({text:""}),a.props.addMessage(e)}},a.state={text:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatbar"},r.a.createElement("input",{type:"text",className:"text",value:this.state.text,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{type:"submit",className:"submit",value:"Enter",onClick:function(t){return e.onClick()}}))}}]),t}(n.Component)),C=Object(h.b)((function(e){return{}}),{addMessage:function(e){return function(t){return O.push(e)}}})(w),A=(a(68),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"modal"},a.props.children)},a}return Object(f.a)(t,e),t}(n.Component)),N=(a(69),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).delete=function(){var e=a.props,t=e.id;(0,e.deleteMessage)(t)},a.handleModal=function(e){a.setState({modalOpen:e})},a.showModal=function(){var e=a.state.modalOpen,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("div",{className:"modalContainer"},r.a.createElement("button",{onClick:a.delete},"Yes"),r.a.createElement("button",{onClick:function(e){a.handleModal(!1)}},"No")));return e?r.a.createElement(A,null,t):""},a.state={modalOpen:!1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message;return r.a.createElement("div",{className:"message"+(t.admin?"":"-user")},this.showModal(),r.a.createElement("div",{className:"messageText",onClick:function(t){return e.handleModal(!0)}},t.admin?r.a.createElement("p",{className:"admin"},"Admin"):null,t.text))}}]),t}(n.Component)),G=Object(h.b)((function(e){return{}}),{deleteMessage:function(e){return function(t){v.ref("Chat/Q&A").child(e).remove().then().catch((function(e){return console.log(e)}))}}})(N),L=a(45),x=(a(77),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.getMessages();case 2:a.scrollToBottom();case 3:case"end":return e.stop()}}),e)}))),a.scrollToBottom=function(){L.animateScroll.scrollToBottom({containerId:"chat-messages"})},a.filterMessages=function(){var e=a.props.speaker.speaker,t=a.props.messages.messages;switch(e){case"Adu":return t.filter((function(e){return e[e.id].text.trim().startsWith("#1")}));case"Ajayi":return t.filter((function(e){return e[e.id].text.trim().startsWith("#2")}));case"Ayanfe":return t.filter((function(e){return e[e.id].text.trim().startsWith("#3")}));case"Omoteso":return t.filter((function(e){return e[e.id].text.trim().startsWith("#4")}));default:return t}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat-messages",id:"chat-messages"},this.filterMessages().map((function(e){return r.a.createElement(G,{key:e.id,id:e.id,message:e[e.id]})})))}}]),t}(n.Component)),I=Object(h.b)((function(e){return{messages:e.messages,speaker:e.speaker}}),{getMessages:function(){return function(e){O.on("value",(function(t){e({type:j.GET_MESSAGES,payload:function(){var e=t.val(),a=[];return e&&Object.keys(e).forEach((function(t,n){a.push(Object(E.a)({},t,e[t])),a[n].id=t})),a}})}))}}})(x),M=(a(78),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(e){a.props.signOut()},a.speakerSelect=function(e){a.props.selectSpeaker(e.target.value)},a.render=function(){return r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"chat"},"DLYA Admin Chat"),r.a.createElement("div",{className:"logout",onClick:function(e){return a.onClick(e)}},"Logout"),r.a.createElement("div",{className:"filter"},r.a.createElement("select",{name:"selectBreakout",id:"selectBreakout",onChange:a.speakerSelect},r.a.createElement("option",{value:"all",defaultChecked:!0},"All Messages"),r.a.createElement("option",{value:"Adu"},"Cultivating the Vision for Financial Freedom"),r.a.createElement("option",{value:"Ajayi"},"The Vision for Skill & Professional Development"),r.a.createElement("option",{value:"Ayanfe"},"Purposeful Vision of a Cristian Single"),r.a.createElement("option",{value:"Omoteso"},"Pursuing a Comprehensive Vision in the Family"))))},a}return Object(f.a)(t,e),t}(n.Component)),_=Object(h.b)((function(e){return{auth:e.login,speaker:e.speaker}}),{signOut:k,verifyLogin:S,selectSpeaker:function(e){return function(t){t({type:j.SELECT_SPEAKER,payload:e})}}})(M),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.verifyLogin();case 2:a.props.auth.authenticated||a.props.history.push("/login");case 4:case"end":return e.stop()}}),e)}))),a.componentDidUpdate=function(){a.props.auth.authenticated||a.props.history.push("/login")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(_,{className:"header"}),r.a.createElement(I,null),r.a.createElement(C,null))}}]),t}(n.Component),T=Object(h.b)((function(e){return{auth:e.login}}),{verifyLogin:S})(R),D=a(16),P=a(46),F=a(47),B=a(19),U={messages:[]},V={authenticated:!1,user:{},error:""},W={speaker:"all"},Y=Object(D.combineReducers)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},U),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.GET_MESSAGES:return Object(B.a)({},e,{messages:t.payload()});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},V),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOGIN:return Object(B.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.LOGIN_ERROR:return Object(B.a)({},e,{error:t.payload});case j.VERIFY_LOGIN:return Object(B.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.SIGN_OUT:return Object(B.a)({},e,{authenticated:!!t.payload,user:{}});default:return e}},speaker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},W),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.SELECT_SPEAKER:return Object(B.a)({},e,{speaker:t.payload});default:return e}}}),K=[F.a],z=Object(D.createStore)(Y,{},Object(P.composeWithDevTools)(D.applyMiddleware.apply(void 0,K))),J=a(48),Q=a(17),X=(a(79),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.verifyLogin();case 2:a.props.auth.authenticated&&a.props.history.push("/");case 4:case"end":return e.stop()}}),e)}))),a.componentDidUpdate=function(){a.props.auth.authenticated&&a.props.history.push("/")},a.onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({email:"",password:""}),e.next=4,a.props.login(a.state.email,a.state.password);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.error;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Login to access your account"),r.a.createElement("p",null,t.message),r.a.createElement("form",{className:"form",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"email",value:this.state.email,onChange:function(t){return e.onChange(t)}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{className:"submit",type:"submit",value:"Login"})))}}]),t}(n.Component)),H=Object(h.b)((function(e){return{auth:e.login}}),{login:function(e,t){return function(a){y.auth().signInWithEmailAndPassword(e,t).then((function(e){a({type:j.LOGIN,payload:e})})).catch((function(e){a({type:j.LOGIN_ERROR,payload:e})}))}},verifyLogin:S})(X);var Z=function(){return r.a.createElement(h.a,{store:z},r.a.createElement(J.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(Q.a,{exact:!0,path:"/",component:T}),r.a.createElement(Q.a,{exact:!0,path:"/login",component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t){e.exports={ADD_MESSAGE:"ADD_MESSAGE",GET_MESSAGES:"GET_MESSAGES",DELETE_MESSAGE:"DELETE_MESSAGE",LOGIN:"LOGIN",LOGIN_ERROR:"LOGIN_ERROR",VERIFY_LOGIN:"VERIFY_LOGIN",SIGN_OUT:"SIGN_OUT",SELECT_SPEAKER:"SELECT_SPEAKER"}}},[[50,1,2]]]);
//# sourceMappingURL=main.f84b6ea0.chunk.js.map