(this.webpackJsonpdlya=this.webpackJsonpdlya||[]).push([[0],{50:function(e,t,n){e.exports=n(81)},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),s=(n(55),n(56),n(12)),i=n.n(s),u=n(18),l=n(3),p=n(14),m=n(6),d=n(4),f=n(7),h=n(5),E=n(21),b=n(22),g=n.n(b);n(62),n(65);g.a.initializeApp({apiKey:"AIzaSyA9XNc30h-czoeu9UfnXZHGD4i8PCsfjfc",authDomain:"dlbc-ya-conference-app.firebaseapp.com",databaseURL:"https://dlbc-ya-conference-app.firebaseio.com",projectId:"dlbc-ya-conference-app",storageBucket:"dlbc-ya-conference-app.appspot.com",messagingSenderId:"341667552255",appId:"1:341667552255:web:16c8c22701a5c1cb50a5ca"});new g.a.auth.GoogleAuthProvider,g.a.auth();var O=g.a.database(),v=O.ref("Chat/Q&A"),y=g.a,j=n(9),S=function(){return function(e){y.auth().onAuthStateChanged((function(t){t?e({type:j.VERIFY_LOGIN,payload:t}):w()}))}},w=function(){return function(e){y.auth().signOut().then((function(){return e({type:j.SIGN_OUT,payload:""})}))}},k=(n(67),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){n.setState({text:e.target.value})},n.onClick=function(){if(""!==n.state.text.trim()){var e={admin:!0,text:n.state.text};n.setState({text:""}),n.props.addMessage(e)}},n.state={text:""},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatbar"},r.a.createElement("input",{type:"text",className:"text",value:this.state.text,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{type:"submit",className:"submit",value:"Enter",onClick:function(t){return e.onClick()}}))}}]),t}(a.Component)),N=Object(h.b)((function(e){return{}}),{addMessage:function(e){return function(t){return v.push(e)}}})(k),A=(n(68),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement("div",{className:"modal"},n.props.children)},n}return Object(f.a)(t,e),t}(a.Component)),C=(n(69),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).delete=function(){var e=n.props,t=e.id;(0,e.deleteMessage)(t)},n.handleModal=function(e){n.setState({modalOpen:e})},n.showModal=function(){var e=n.state.modalOpen,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("div",{className:"modalContainer"},r.a.createElement("button",{onClick:n.delete},"Yes"),r.a.createElement("button",{onClick:function(e){n.handleModal(!1)}},"No")));return e?r.a.createElement(A,null,t):""},n.state={modalOpen:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message;return r.a.createElement("div",{className:"message"+(t.admin?"":"-user")},this.showModal(),r.a.createElement("div",{className:"messageText",onClick:function(t){return e.handleModal(!0)}},t.admin?r.a.createElement("p",{className:"admin"},"Admin"):null,t.text))}}]),t}(a.Component)),G=Object(h.b)((function(e){return{}}),{deleteMessage:function(e){return function(t){O.ref("Chat/Q&A").child(e).remove().then().catch((function(e){return console.log(e)}))}}})(C),L=n(45),x=(n(77),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getMessages();case 2:n.scrollToBottom();case 3:case"end":return e.stop()}}),e)}))),n.scrollToBottom=function(e){e=e||"chat-messages",L.animateScroll.scrollToBottom({containerId:e})},n.filterMessages=function(){var e=n.props.speaker.speaker,t=n.props.messages.messages;switch(e){case"Adu":return t.filter((function(e){return e[e.id].text.trim().startsWith("#1")}));case"Ajayi":return t.filter((function(e){return e[e.id].text.trim().startsWith("#2")}));case"Ayanfe":return t.filter((function(e){return e[e.id].text.trim().startsWith("#3")}));case"Omoteso":return t.filter((function(e){return e[e.id].text.trim().startsWith("#4")}));default:return t}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat-messages",id:"chat-messages"},this.filterMessages().map((function(e){return r.a.createElement(G,{key:e.id,id:e.id,message:e[e.id]})})))}}]),t}(a.Component)),I=Object(h.b)((function(e){return{messages:e.messages,speaker:e.speaker}}),{getMessages:function(){return function(e){v.on("value",(function(t){e({type:j.GET_MESSAGES,payload:function(){var e=t.val(),n=[];return e&&Object.keys(e).forEach((function(t,a){n.push(Object(E.a)({},t,e[t])),n[a].id=t})),n}})}))}}})(x),M=(n(78),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onClick=function(e){n.props.signOut()},n.speakerSelect=function(e){n.props.selectSpeaker(e.target.value)},n.render=function(){return r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"chat"},"DLYA Admin Chat"),r.a.createElement("div",{className:"logout",onClick:function(e){return n.onClick(e)}},"Logout"))},n}return Object(f.a)(t,e),t}(a.Component)),_=Object(h.b)((function(e){return{auth:e.login,speaker:e.speaker}}),{signOut:w,verifyLogin:S,selectSpeaker:function(e){return function(t){t({type:j.SELECT_SPEAKER,payload:e})}}})(M),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.verifyLogin();case 2:n.props.auth.authenticated||n.props.history.push("/login");case 4:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(){n.props.auth.authenticated||n.props.history.push("/login")},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(_,{className:"header"}),r.a.createElement(I,null),r.a.createElement(N,null))}}]),t}(a.Component),T=Object(h.b)((function(e){return{auth:e.login}}),{verifyLogin:S})(R),D=n(16),U=n(46),P=n(47),W=n(19),B={messages:[]},F={authenticated:!1,user:{},error:""},Y={speaker:"all"},K=Object(D.combineReducers)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},B),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.GET_MESSAGES:return Object(W.a)({},e,{messages:t.payload()});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},F),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOGIN:return Object(W.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.LOGIN_ERROR:return Object(W.a)({},e,{error:t.payload});case j.VERIFY_LOGIN:return Object(W.a)({},e,{authenticated:!!t.payload,user:t.payload});case j.SIGN_OUT:return Object(W.a)({},e,{authenticated:!!t.payload,user:{}});default:return e}},speaker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},Y),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.SELECT_SPEAKER:return Object(W.a)({},e,{speaker:t.payload});default:return e}}}),V=[P.a],z=Object(D.createStore)(K,{},Object(U.composeWithDevTools)(D.applyMiddleware.apply(void 0,V))),J=n(48),Q=n(17),X=(n(79),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.verifyLogin();case 2:n.props.auth.authenticated&&n.props.history.push("/");case 4:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(){n.props.auth.authenticated&&n.props.history.push("/")},n.onChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({email:"",password:""}),e.next=4,n.props.login(n.state.email,n.state.password);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.error;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Login to access your account"),r.a.createElement("p",null,t.message),r.a.createElement("form",{className:"form",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"email",value:this.state.email,onChange:function(t){return e.onChange(t)}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{className:"submit",type:"submit",value:"Login"})))}}]),t}(a.Component)),H=Object(h.b)((function(e){return{auth:e.login}}),{login:function(e,t){return function(n){y.auth().signInWithEmailAndPassword(e,t).then((function(e){n({type:j.LOGIN,payload:e})})).catch((function(e){n({type:j.LOGIN_ERROR,payload:e})}))}},verifyLogin:S})(X);var Z=function(){return r.a.createElement(h.a,{store:z},r.a.createElement(J.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(Q.a,{exact:!0,path:"/",component:T}),r.a.createElement(Q.a,{exact:!0,path:"/login",component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t){e.exports={ADD_MESSAGE:"ADD_MESSAGE",GET_MESSAGES:"GET_MESSAGES",DELETE_MESSAGE:"DELETE_MESSAGE",LOGIN:"LOGIN",LOGIN_ERROR:"LOGIN_ERROR",VERIFY_LOGIN:"VERIFY_LOGIN",SIGN_OUT:"SIGN_OUT",SELECT_SPEAKER:"SELECT_SPEAKER"}}},[[50,1,2]]]);
//# sourceMappingURL=main.ed111b98.chunk.js.map